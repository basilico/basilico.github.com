<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Biki]]></title>
  <link href="http://basilico.github.com/atom.xml" rel="self"/>
  <link href="http://basilico.github.com/"/>
  <updated>2013-02-19T16:11:50+01:00</updated>
  <id>http://basilico.github.com/</id>
  <author>
    <name><![CDATA[Basilico DevTeam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Grabbing ctrl+input key with jQuery]]></title>
    <link href="http://basilico.github.com/blog/2013/02/19/jquery-ctrl/"/>
    <updated>2013-02-19T12:00:00+01:00</updated>
    <id>http://basilico.github.com/blog/2013/02/19/jquery-ctrl</id>
    <content type="html"><![CDATA[<p>Snippet usage</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">ctrl</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">//save</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Snippet source code</p>

<figure class='code'><figcaption><span>plugin - jquery.ctrl.js </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">ctrl</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">keydown</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">args</span><span class="p">)</span> <span class="nx">args</span><span class="o">=</span><span class="p">[];</span> <span class="c1">// IE barks when args is null</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">key</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Registrare evento di scroll su dispositivi mobile]]></title>
    <link href="http://basilico.github.com/blog/2012/12/05/registrare-evento-di-scroll-su-dispositivi-mobile/"/>
    <updated>2012-12-05T01:37:00+01:00</updated>
    <id>http://basilico.github.com/blog/2012/12/05/registrare-evento-di-scroll-su-dispositivi-mobile</id>
    <content type="html"><![CDATA[<p>Sui dispositivi mobile, l&#8217;evento <code>scroll</code> equivale all&#8217;evento <code>touchend</code></p>

<p>Si consiglia di registrare oltre all&#8217;evento di <code>scroll</code> anche l&#8217;evento <code>touchmove</code></p>

<p><strong>NOTA</strong>: Utilizzare sui metodi lazyload legati allo scroll</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Atk backup snippet]]></title>
    <link href="http://basilico.github.com/blog/2012/12/05/atk-backup-snippet/"/>
    <updated>2012-12-05T01:28:00+01:00</updated>
    <id>http://basilico.github.com/blog/2012/12/05/atk-backup-snippet</id>
    <content type="html"><![CDATA[<p><strong>PROBLEMA</strong>: permettere al cliente di fare backup su server del proprio db prima di importanti modifiche.</p>

<!-- more -->


<figure class='code'><figcaption><span>backup.php (atk-backup.php)</span> <a href='http://basilico.github.com/downloads/code/atk-backup.php'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// includes</span>
</span><span class='line'><span class="nv">$config_atkroot</span> <span class="o">=</span> <span class="s2">&quot;./&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">include_once</span><span class="p">(</span><span class="s2">&quot;atk.inc&quot;</span><span class="p">);</span>
</span><span class='line'><span class="nx">atksession</span><span class="p">();</span>
</span><span class='line'><span class="nx">atksecure</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Utility</span>
</span><span class='line'><span class="k">function</span> <span class="nf">format</span><span class="p">(</span><span class="nv">$s</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span><span class="s2">&quot; - &quot;</span><span class="p">,</span><span class="nv">$s</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1">// Defaults</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nx">STATUS</span> <span class="o">==</span> <span class="s1">&#39;sviluppo&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$mysql_bin</span> <span class="o">=</span> <span class="s2">&quot;/Applications/MAMP/Library/bin/&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$backup_dir</span> <span class="o">=</span> <span class="s2">&quot;backups/&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nx">STATUS</span> <span class="o">==</span> <span class="s1">&#39;online&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$mysql_bin</span> <span class="o">=</span> <span class="s2">&quot;/usr/bin/&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$backup_dir</span> <span class="o">=</span> <span class="s2">&quot;backups/&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Elimino</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$ATK_VARS</span><span class="p">[</span><span class="s1">&#39;backup_del&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$ATK_VARS</span><span class="p">[</span><span class="s1">&#39;backup_del&#39;</span><span class="p">]))</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$backup</span> <span class="o">=</span> <span class="nv">$backup_dir</span> <span class="o">.</span> <span class="nv">$ATK_VARS</span><span class="p">[</span><span class="s1">&#39;backup_file&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&quot;.sql&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nb">file_exists</span><span class="p">(</span><span class="nv">$backup</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="nb">unlink</span><span class="p">(</span><span class="nv">$backup</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// </span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$ATK_VARS</span><span class="p">[</span><span class="s1">&#39;backup&#39;</span><span class="p">]))</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$u_date</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s2">&quot;Y.m.d_H.i.s&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{</span><span class="nv">$mysql_bin</span><span class="si">}</span><span class="s2">mysqldump </span><span class="si">{</span><span class="nv">$config_db</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;db&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2"> &gt; </span><span class="si">{</span><span class="nv">$backup_dir</span><span class="si">}</span><span class="s2">backup_</span><span class="si">{</span><span class="nv">$u_date</span><span class="si">}</span><span class="s2">.sql --opt -h </span><span class="si">{</span><span class="nv">$config_db</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;host&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2"> -u </span><span class="si">{</span><span class="nv">$config_db</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;user&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">  --password=</span><span class="si">{</span><span class="nv">$config_db</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">][</span><span class="s2">&quot;password&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$res</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1">// Status dei salvataggi durante la sessione</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$res</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$o_status</span> <span class="o">=</span> <span class="s1">&#39;&lt;font color=&quot;gray&quot;&gt;&lt;strong&gt;NON ESEGUITO&lt;/strong&gt;&lt;/font&gt;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="k">elseif</span><span class="p">(</span><span class="nv">$res</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$o_status</span> <span class="o">=</span> <span class="s1">&#39;&lt;font color=&quot;green&quot;&gt;&lt;strong&gt;ESEGUITO&lt;/strong&gt;&lt;/font&gt;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span> <span class="k">elseif</span><span class="p">(</span><span class="nv">$res</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$o_status</span> <span class="o">=</span> <span class="s1">&#39;&lt;font color=&quot;red&quot;&gt;&lt;strong&gt;ERRORE&lt;/strong&gt;&lt;/font&gt;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Creo elenco delle cartelle gi√† presenti</span>
</span><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="nb">glob</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{</span><span class="nv">$backup_dir</span><span class="si">}</span><span class="s2">*.sql&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$x_folder</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$x_folder</span> <span class="o">=</span> <span class="nb">basename</span><span class="p">(</span><span class="nv">$x_folder</span><span class="p">,</span><span class="s2">&quot;.sql&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$x_folder_view</span> <span class="o">=</span> <span class="nx">format</span><span class="p">(</span><span class="nv">$x_folder</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$o_options</span><span class="o">.=</span> <span class="s2">&quot;&lt;option value=</span><span class="se">\&quot;</span><span class="si">$x_folder</span><span class="se">\&quot;</span><span class="s2">&gt;</span><span class="si">$x_folder_view</span><span class="s2">&lt;/option&gt;&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1">// Output Vars</span>
</span><span class='line'><span class="nv">$o_title</span> <span class="o">=</span> <span class="s2">&quot;Backup gestionale&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$o_content</span> <span class="o">=</span> <span class="o">&lt;&lt;&lt;</span> <span class="nx">HTML</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">br</span><span class="o">&gt;&lt;</span><span class="nx">br</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Esito</span> <span class="nx">del</span> <span class="nx">backup</span><span class="o">:</span> <span class="nv">$o_status</span><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">br</span><span class="o">&gt;&lt;</span><span class="nx">br</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onclick</span><span class="o">=</span><span class="s2">&quot;location.href=&#39;backup.php?backup&#39;;this.disabled=true;&quot;</span><span class="o">&gt;</span><span class="nx">Esegui</span> <span class="nx">backup</span><span class="o">&lt;/</span><span class="nx">button</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">hr</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">br</span><span class="o">&gt;&lt;</span><span class="nx">br</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">Manutenzione</span><span class="o">&lt;/</span><span class="nx">strong</span><span class="o">&gt;&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">form</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="nx">Elimina</span> <span class="nx">backup</span><span class="o">:</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">select</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;backup_file&quot;</span> <span class="nx">onchange</span><span class="o">=</span><span class="s2">&quot;document.getElementById(&#39;backup_del&#39;).disabled=false;&quot;</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">option</span><span class="o">&gt;</span><span class="nx">Scegli</span> <span class="nx">backup</span><span class="o">...&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="nv">$o_options</span>
</span><span class='line'>  <span class="o">&lt;/</span><span class="nx">select</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nx">disabled</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;backup_del&quot;</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;backup_del&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Elimina backup&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="nx">form</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">HTML</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// page class setup</span>
</span><span class='line'><span class="nv">$indexpage</span> <span class="o">=</span> <span class="o">&amp;</span><span class="nx">atknew</span><span class="p">(</span><span class="s1">&#39;atk.ui.atkindexpage&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">atkGenerateTop</span><span class="p">();</span>
</span><span class='line'><span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">atkGenerateMenu</span><span class="p">();</span>
</span><span class='line'><span class="nv">$box</span> <span class="o">=</span> <span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">m_ui</span><span class="o">-&gt;</span><span class="na">renderBox</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="o">=&gt;</span><span class="nv">$o_title</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="o">=&gt;</span><span class="nv">$o_content</span><span class="p">));</span>
</span><span class='line'><span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">m_page</span><span class="o">-&gt;</span><span class="na">addContent</span><span class="p">(</span><span class="nv">$box</span><span class="p">);</span>
</span><span class='line'><span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">m_output</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">m_page</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$o_title</span><span class="s2">&quot;</span><span class="p">));</span>
</span><span class='line'><span class="nv">$indexpage</span><span class="o">-&gt;</span><span class="na">m_output</span><span class="o">-&gt;</span><span class="na">outputFlush</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Slug Cirillico con Doctrine 1.2]]></title>
    <link href="http://basilico.github.com/blog/2012/12/05/slug-cirillico-con-doctrine-1-dot-2/"/>
    <updated>2012-12-05T01:13:00+01:00</updated>
    <id>http://basilico.github.com/blog/2012/12/05/slug-cirillico-con-doctrine-1-dot-2</id>
    <content type="html"><![CDATA[<p><strong>PROBLEMA</strong>: in doctrine non esiste il supporto al cirillico quando si genera lo slug.</p>

<p>Classe: Doctrine\Inflector</p>

<p>Patch:</p>

<ul>
<li>256: <code>public static function replaceCyrillic($text)</code></li>
<li>279: <code>$text = self::replaceCyrillic($text)</code></li>
</ul>


<!-- more -->


<figure class='code'><figcaption><span>Inflector.php (doctrine-cirillico.php)</span> <a href='http://basilico.github.com/downloads/code/doctrine-cirillico.php'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm"> *  $Id: Inflector.php 3189 2007-11-18 20:37:44Z meus $</span>
</span><span class='line'><span class="cm"> *</span>
</span><span class='line'><span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
</span><span class='line'><span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
</span><span class='line'><span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
</span><span class='line'><span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
</span><span class='line'><span class="cm"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
</span><span class='line'><span class="cm"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
</span><span class='line'><span class="cm"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
</span><span class='line'><span class="cm"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
</span><span class='line'><span class="cm"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
</span><span class='line'><span class="cm"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
</span><span class='line'><span class="cm"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
</span><span class='line'><span class="cm"> *</span>
</span><span class='line'><span class="cm"> * This software consists of voluntary contributions made by many individuals</span>
</span><span class='line'><span class="cm"> * and is licensed under the LGPL. For more information, see</span>
</span><span class='line'><span class="cm"> * &lt;http://www.doctrine-project.org&gt;.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * Doctrine inflector has static methods for inflecting text</span>
</span><span class='line'><span class="sd"> *</span>
</span><span class='line'><span class="sd"> * The methods in these classes are from several different sources collected</span>
</span><span class='line'><span class="sd"> * across several different php projects and several different authors. The</span>
</span><span class='line'><span class="sd"> * original author names and emails are not known</span>
</span><span class='line'><span class="sd"> *</span>
</span><span class='line'><span class="sd"> * @package     Doctrine</span>
</span><span class='line'><span class="sd"> * @subpackage  Inflector</span>
</span><span class='line'><span class="sd"> * @license     http://www.opensource.org/licenses/lgpl-license.php LGPL</span>
</span><span class='line'><span class="sd"> * @link        www.doctrine-project.org</span>
</span><span class='line'><span class="sd"> * @since       1.0</span>
</span><span class='line'><span class="sd"> * @version     $Revision: 3189 $</span>
</span><span class='line'><span class="sd"> * @author      Konsta Vesterinen &lt;kvesteri@cc.hut.fi&gt;</span>
</span><span class='line'><span class="sd"> * @author      Jonathan H. Wage &lt;jonwage@gmail.com&gt;</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Doctrine_Inflector</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Convert word in to the format for a Doctrine table name. Converts &#39;ModelName&#39; to &#39;model_name&#39;</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param  string $word  Word to tableize</span>
</span><span class='line'><span class="sd">     * @return string $word  Tableized word</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">tableize</span><span class="p">(</span><span class="nv">$word</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nx">strtolower</span><span class="p">(</span><span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;~(?&lt;=\\w)([A-Z])~&#39;</span><span class="p">,</span> <span class="s1">&#39;_$1&#39;</span><span class="p">,</span> <span class="nv">$word</span><span class="p">));</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Convert a word in to the format for a Doctrine class name. Converts &#39;table_name&#39; to &#39;TableName&#39;</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param string  $word  Word to classify</span>
</span><span class='line'><span class="sd">     * @return string $word  Classified word</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">classify</span><span class="p">(</span><span class="nv">$word</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">static</span> <span class="nv">$cache</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$cache</span><span class="p">[</span><span class="nv">$word</span><span class="p">]))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$word</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;/[$]/&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$word</span><span class="p">);</span>
</span><span class='line'>            <span class="nv">$classify</span> <span class="o">=</span> <span class="nb">preg_replace_callback</span><span class="p">(</span><span class="s1">&#39;~(_?)([-_])([\w])~&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;Doctrine_Inflector&quot;</span><span class="p">,</span> <span class="s2">&quot;classifyCallback&quot;</span><span class="p">),</span> <span class="nx">ucfirst</span><span class="p">(</span><span class="nx">strtolower</span><span class="p">(</span><span class="nv">$word</span><span class="p">)));</span>
</span><span class='line'>            <span class="nv">$cache</span><span class="p">[</span><span class="nv">$word</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$classify</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$cache</span><span class="p">[</span><span class="nv">$word</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Callback function to classify a classname properly.</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param  array  $matches  An array of matches from a pcre_replace call</span>
</span><span class='line'><span class="sd">     * @return string $string   A string with matches 1 and mathces 3 in upper case.</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">classifyCallback</span><span class="p">(</span><span class="nv">$matches</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$matches</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">.</span> <span class="nx">strtoupper</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Check if a string has utf7 characters in it</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * By bmorel at ssi dot fr</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param  string $string</span>
</span><span class='line'><span class="sd">     * @return boolean $bool</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">seemsUtf8</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$string</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mh">0x80</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span> <span class="c1"># 0bbbbbbb</span>
</span><span class='line'>        <span class="k">elseif</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xE0</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0xC0</span><span class="p">)</span> <span class="nv">$n</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="c1"># 110bbbbb</span>
</span><span class='line'>        <span class="k">elseif</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xF0</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0xE0</span><span class="p">)</span> <span class="nv">$n</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span> <span class="c1"># 1110bbbb</span>
</span><span class='line'>        <span class="k">elseif</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xF8</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0xF0</span><span class="p">)</span> <span class="nv">$n</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span> <span class="c1"># 11110bbb</span>
</span><span class='line'>        <span class="k">elseif</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xFC</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0xF8</span><span class="p">)</span> <span class="nv">$n</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span> <span class="c1"># 111110bb</span>
</span><span class='line'>        <span class="k">elseif</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xFE</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0xFC</span><span class="p">)</span> <span class="nv">$n</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="c1"># 1111110b</span>
</span><span class='line'>        <span class="k">else</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span> <span class="c1"># Does not match any model</span>
</span><span class='line'>        <span class="k">for</span> <span class="p">(</span><span class="nv">$j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$j</span><span class="o">&lt;</span><span class="nv">$n</span><span class="p">;</span> <span class="nv">$j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="c1"># n bytes matching 10bbbbbb follow ?</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">((</span><span class="o">++</span><span class="nv">$i</span> <span class="o">==</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$string</span><span class="p">))</span> <span class="o">||</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="nv">$string</span><span class="p">[</span><span class="nv">$i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mh">0xC0</span><span class="p">)</span> <span class="o">!=</span> <span class="mh">0x80</span><span class="p">))</span>
</span><span class='line'>          <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Remove any illegal characters, accents, etc.</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param  string $string  String to unaccent</span>
</span><span class='line'><span class="sd">     * @return string $string  Unaccented string</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">unaccent</span><span class="p">(</span><span class="nv">$string</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;/[\x80-\xff]/&#39;</span><span class="p">,</span> <span class="nv">$string</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">return</span> <span class="nv">$string</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">seemsUtf8</span><span class="p">(</span><span class="nv">$string</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>          <span class="nv">$chars</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>          <span class="c1">// Decompositions for Latin-1 Supplement</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">129</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">130</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">135</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">136</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">137</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">138</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">139</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">140</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">141</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">142</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">143</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">145</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">146</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">147</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">148</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">149</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">153</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">154</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">155</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">156</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">157</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">159</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">160</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">161</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">162</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">163</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">164</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">165</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">167</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">168</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">169</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">170</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">171</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">172</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">173</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">174</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">175</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">177</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">178</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">179</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">181</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">182</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">182</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">185</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">186</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">187</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">188</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">189</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">191</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="c1">// Decompositions for Latin Extended-A</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">129</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">130</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">134</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">135</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">136</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">137</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">138</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">139</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">140</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">141</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">142</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">143</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">144</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">145</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">146</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">147</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">148</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">149</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">151</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">152</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">153</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">154</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">155</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">156</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">157</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">158</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">159</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">160</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">161</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">162</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">163</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">164</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">165</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">166</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">167</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">168</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">169</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">170</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">171</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">172</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">173</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">174</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">175</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">176</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">177</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">178</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;IJ&#39;</span><span class="p">,</span><span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">179</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;ij&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">181</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;j&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">182</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">183</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">184</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">185</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">186</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">187</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">188</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">189</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">190</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">191</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">129</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">130</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">134</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">135</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">136</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">137</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">138</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">139</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">140</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">141</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">142</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">143</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">144</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">145</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">146</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;OE&#39;</span><span class="p">,</span><span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">147</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;oe&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">148</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">149</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">151</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">152</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">153</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">154</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">155</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">156</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">157</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">158</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">159</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">160</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">161</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">162</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">163</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">164</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">165</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">166</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">167</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">168</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">169</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">170</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">171</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">172</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">173</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">174</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">175</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">176</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">177</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">178</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">179</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">181</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">182</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">183</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">184</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">185</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">186</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">187</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">188</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">189</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">190</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">191</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="c1">// Euro Sign</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">226</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">130</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">172</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="c1">// GBP (Pound) Sign</span>
</span><span class='line'>          <span class="nb">chr</span><span class="p">(</span><span class="mi">194</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">163</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="s1">&#39;√Ñ&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Ae&#39;</span><span class="p">,</span> <span class="s1">&#39;√§&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ae&#39;</span><span class="p">,</span> <span class="s1">&#39;√ú&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Ue&#39;</span><span class="p">,</span> <span class="s1">&#39;√º&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ue&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="s1">&#39;√ñ&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Oe&#39;</span><span class="p">,</span> <span class="s1">&#39;√∂&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;oe&#39;</span><span class="p">,</span> <span class="s1">&#39;√ü&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="c1">// Norwegian characters</span>
</span><span class='line'>          <span class="s1">&#39;√Ö&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Aa&#39;</span><span class="p">,</span><span class="s1">&#39;√Ü&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;Ae&#39;</span><span class="p">,</span><span class="s1">&#39;√ò&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;O&#39;</span><span class="p">,</span><span class="s1">&#39;√¶&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;√∏&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="s1">&#39;√•&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;aa&#39;</span>
</span><span class='line'>          <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>          <span class="nv">$string</span> <span class="o">=</span> <span class="nx">strtr</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="nv">$chars</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>          <span class="c1">// Assume ISO-8859-1 if not UTF-8</span>
</span><span class='line'>          <span class="nv">$chars</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">138</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">142</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">154</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">158</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">159</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">162</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">165</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">181</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">192</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">193</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">194</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">195</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">196</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">197</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">199</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">201</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">202</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">203</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">204</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">205</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">206</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">207</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">209</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">210</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">213</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">214</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">216</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">217</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">218</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">219</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">220</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">225</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">226</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">227</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">228</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">229</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">231</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">232</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">233</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">234</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">235</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">236</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">237</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">238</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">239</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">241</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">242</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">243</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">244</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">245</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">246</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">248</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">249</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">251</span><span class="p">)</span>
</span><span class='line'>            <span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">252</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">253</span><span class="p">)</span><span class="o">.</span><span class="nb">chr</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>          <span class="nv">$chars</span><span class="p">[</span><span class="s1">&#39;out&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EfSZszYcYuAAAAAACEEEEIIIINOOOOOOUUUUYaaaaaaceeeeiiiinoooooouuuuyy&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>          <span class="nv">$string</span> <span class="o">=</span> <span class="nx">strtr</span><span class="p">(</span><span class="nv">$string</span><span class="p">,</span> <span class="nv">$chars</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">],</span> <span class="nv">$chars</span><span class="p">[</span><span class="s1">&#39;out&#39;</span><span class="p">]);</span>
</span><span class='line'>          <span class="nv">$doubleChars</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">140</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">156</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">198</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">208</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">222</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">223</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">230</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">240</span><span class="p">),</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">254</span><span class="p">));</span>
</span><span class='line'>          <span class="nv">$doubleChars</span><span class="p">[</span><span class="s1">&#39;out&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;OE&#39;</span><span class="p">,</span> <span class="s1">&#39;oe&#39;</span><span class="p">,</span> <span class="s1">&#39;AE&#39;</span><span class="p">,</span> <span class="s1">&#39;DH&#39;</span><span class="p">,</span> <span class="s1">&#39;TH&#39;</span><span class="p">,</span> <span class="s1">&#39;ss&#39;</span><span class="p">,</span> <span class="s1">&#39;ae&#39;</span><span class="p">,</span> <span class="s1">&#39;dh&#39;</span><span class="p">,</span> <span class="s1">&#39;th&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="nv">$string</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="nv">$doubleChars</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">],</span> <span class="nv">$doubleChars</span><span class="p">[</span><span class="s1">&#39;out&#39;</span><span class="p">],</span> <span class="nv">$string</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$string</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Cyrillic transcription</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param  string $string  String to unciryllic</span>
</span><span class='line'><span class="sd">     * @return string $string  Uncyrilled string</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">replaceCyrillic</span><span class="p">(</span><span class="nv">$text</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nv">$cyrylicFrom</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;–ê&#39;</span><span class="p">,</span> <span class="s1">&#39;–ë&#39;</span><span class="p">,</span> <span class="s1">&#39;–í&#39;</span><span class="p">,</span> <span class="s1">&#39;–ì&#39;</span><span class="p">,</span> <span class="s1">&#39;–î&#39;</span><span class="p">,</span> <span class="s1">&#39;–ï&#39;</span><span class="p">,</span> <span class="s1">&#39;–Å&#39;</span><span class="p">,</span> <span class="s1">&#39;–ñ&#39;</span><span class="p">,</span> <span class="s1">&#39;–ó&#39;</span><span class="p">,</span> <span class="s1">&#39;–ò&#39;</span><span class="p">,</span> <span class="s1">&#39;–ô&#39;</span><span class="p">,</span> <span class="s1">&#39;–ö&#39;</span><span class="p">,</span> <span class="s1">&#39;–õ&#39;</span><span class="p">,</span> <span class="s1">&#39;–ú&#39;</span><span class="p">,</span> <span class="s1">&#39;–ù&#39;</span><span class="p">,</span> <span class="s1">&#39;–û&#39;</span><span class="p">,</span> <span class="s1">&#39;–ü&#39;</span><span class="p">,</span> <span class="s1">&#39;–†&#39;</span><span class="p">,</span> <span class="s1">&#39;–°&#39;</span><span class="p">,</span> <span class="s1">&#39;–¢&#39;</span><span class="p">,</span> <span class="s1">&#39;–£&#39;</span><span class="p">,</span> <span class="s1">&#39;–§&#39;</span><span class="p">,</span> <span class="s1">&#39;–•&#39;</span><span class="p">,</span> <span class="s1">&#39;–¶&#39;</span><span class="p">,</span> <span class="s1">&#39;–ß&#39;</span><span class="p">,</span> <span class="s1">&#39;–®&#39;</span><span class="p">,</span> <span class="s1">&#39;–©&#39;</span><span class="p">,</span> <span class="s1">&#39;–™&#39;</span><span class="p">,</span> <span class="s1">&#39;–´&#39;</span><span class="p">,</span> <span class="s1">&#39;–¨&#39;</span><span class="p">,</span> <span class="s1">&#39;–≠&#39;</span><span class="p">,</span> <span class="s1">&#39;–Æ&#39;</span><span class="p">,</span> <span class="s1">&#39;–Ø&#39;</span><span class="p">,</span> <span class="s1">&#39;–∞&#39;</span><span class="p">,</span> <span class="s1">&#39;–±&#39;</span><span class="p">,</span> <span class="s1">&#39;–≤&#39;</span><span class="p">,</span> <span class="s1">&#39;–≥&#39;</span><span class="p">,</span> <span class="s1">&#39;–¥&#39;</span><span class="p">,</span> <span class="s1">&#39;–µ&#39;</span><span class="p">,</span> <span class="s1">&#39;—ë&#39;</span><span class="p">,</span> <span class="s1">&#39;–∂&#39;</span><span class="p">,</span> <span class="s1">&#39;–∑&#39;</span><span class="p">,</span> <span class="s1">&#39;–∏&#39;</span><span class="p">,</span> <span class="s1">&#39;–π&#39;</span><span class="p">,</span> <span class="s1">&#39;–∫&#39;</span><span class="p">,</span> <span class="s1">&#39;–ª&#39;</span><span class="p">,</span> <span class="s1">&#39;–º&#39;</span><span class="p">,</span> <span class="s1">&#39;–Ω&#39;</span><span class="p">,</span> <span class="s1">&#39;–æ&#39;</span><span class="p">,</span> <span class="s1">&#39;–ø&#39;</span><span class="p">,</span> <span class="s1">&#39;—Ä&#39;</span><span class="p">,</span> <span class="s1">&#39;—Å&#39;</span><span class="p">,</span> <span class="s1">&#39;—Ç&#39;</span><span class="p">,</span> <span class="s1">&#39;—É&#39;</span><span class="p">,</span> <span class="s1">&#39;—Ñ&#39;</span><span class="p">,</span> <span class="s1">&#39;—Ö&#39;</span><span class="p">,</span> <span class="s1">&#39;—Ü&#39;</span><span class="p">,</span> <span class="s1">&#39;—á&#39;</span><span class="p">,</span> <span class="s1">&#39;—à&#39;</span><span class="p">,</span> <span class="s1">&#39;—â&#39;</span><span class="p">,</span> <span class="s1">&#39;—ä&#39;</span><span class="p">,</span> <span class="s1">&#39;—ã&#39;</span><span class="p">,</span> <span class="s1">&#39;—å&#39;</span><span class="p">,</span> <span class="s1">&#39;—ç&#39;</span><span class="p">,</span> <span class="s1">&#39;—é&#39;</span><span class="p">,</span> <span class="s1">&#39;—è&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$cyrylicTo</span>   <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;Ie&#39;</span><span class="p">,</span> <span class="s1">&#39;Io&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;Ch&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;Tch&#39;</span><span class="p">,</span> <span class="s1">&#39;Sh&#39;</span><span class="p">,</span> <span class="s1">&#39;Shtch&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;Iu&#39;</span><span class="p">,</span> <span class="s1">&#39;Ia&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;ie&#39;</span><span class="p">,</span> <span class="s1">&#39;io&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;ch&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;tch&#39;</span><span class="p">,</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="s1">&#39;shtch&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;iu&#39;</span><span class="p">,</span> <span class="s1">&#39;ia&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>      <span class="nv">$from</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;√Å&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ä&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ç&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ñ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÇ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÄ&quot;</span><span class="p">,</span> <span class="s2">&quot;√É&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ö&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÑ&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ü&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÜ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒä&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒà&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒå&quot;</span><span class="p">,</span> <span class="s2">&quot;√á&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒé&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒê&quot;</span><span class="p">,</span> <span class="s2">&quot;√ê&quot;</span><span class="p">,</span> <span class="s2">&quot;√â&quot;</span><span class="p">,</span> <span class="s2">&quot;√à&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒñ&quot;</span><span class="p">,</span> <span class="s2">&quot;√ä&quot;</span><span class="p">,</span> <span class="s2">&quot;√ã&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒö&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒí&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒò&quot;</span><span class="p">,</span> <span class="s2">&quot;∆è&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ†&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒú&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒû&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ¢&quot;</span><span class="p">,</span> <span class="s2">&quot;√°&quot;</span><span class="p">,</span> <span class="s2">&quot;√†&quot;</span><span class="p">,</span> <span class="s2">&quot;√¢&quot;</span><span class="p">,</span> <span class="s2">&quot;√§&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÉ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÅ&quot;</span><span class="p">,</span> <span class="s2">&quot;√£&quot;</span><span class="p">,</span> <span class="s2">&quot;√•&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÖ&quot;</span><span class="p">,</span> <span class="s2">&quot;√¶&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒá&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒã&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒâ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒç&quot;</span><span class="p">,</span> <span class="s2">&quot;√ß&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒè&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒë&quot;</span><span class="p">,</span> <span class="s2">&quot;√∞&quot;</span><span class="p">,</span> <span class="s2">&quot;√©&quot;</span><span class="p">,</span> <span class="s2">&quot;√®&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒó&quot;</span><span class="p">,</span> <span class="s2">&quot;√™&quot;</span><span class="p">,</span> <span class="s2">&quot;√´&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒõ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒì&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒô&quot;</span><span class="p">,</span> <span class="s2">&quot;…ô&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ°&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒù&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒü&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ£&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ§&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ¶&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;√ç&quot;</span><span class="p">,</span> <span class="s2">&quot;√å&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ∞&quot;</span><span class="p">,</span> <span class="s2">&quot;√é&quot;</span><span class="p">,</span> <span class="s2">&quot;√è&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ™&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒÆ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ≤&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ¥&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ∂&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒª&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Å&quot;</span><span class="p">,</span> <span class="s2">&quot;≈É&quot;</span><span class="p">,</span> <span class="s2">&quot;≈á&quot;</span><span class="p">,</span> <span class="s2">&quot;√ë&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Ö&quot;</span><span class="p">,</span> <span class="s2">&quot;√ì&quot;</span><span class="p">,</span> <span class="s2">&quot;√í&quot;</span><span class="p">,</span> <span class="s2">&quot;√î&quot;</span><span class="p">,</span> <span class="s2">&quot;√ñ&quot;</span><span class="p">,</span> <span class="s2">&quot;√ï&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ê&quot;</span><span class="p">,</span> <span class="s2">&quot;√ò&quot;</span><span class="p">,</span> <span class="s2">&quot;∆†&quot;</span><span class="p">,</span> <span class="s2">&quot;≈í&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ•&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒß&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ±&quot;</span><span class="p">,</span> <span class="s2">&quot;√≠&quot;</span><span class="p">,</span> <span class="s2">&quot;√¨&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;√Æ&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ø&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ´&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒØ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ≥&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒµ&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒ∑&quot;</span><span class="p">,</span> <span class="s2">&quot;ƒº&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Ç&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Ñ&quot;</span><span class="p">,</span> <span class="s2">&quot;≈à&quot;</span><span class="p">,</span> <span class="s2">&quot;√±&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Ü&quot;</span><span class="p">,</span> <span class="s2">&quot;√≥&quot;</span><span class="p">,</span> <span class="s2">&quot;√≤&quot;</span><span class="p">,</span> <span class="s2">&quot;√¥&quot;</span><span class="p">,</span> <span class="s2">&quot;√∂&quot;</span><span class="p">,</span> <span class="s2">&quot;√µ&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ë&quot;</span><span class="p">,</span> <span class="s2">&quot;√∏&quot;</span><span class="p">,</span> <span class="s2">&quot;∆°&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ì&quot;</span><span class="p">,</span> <span class="s2">&quot;≈î&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ò&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ö&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ú&quot;</span><span class="p">,</span> <span class="s2">&quot;≈†&quot;</span><span class="p">,</span> <span class="s2">&quot;≈û&quot;</span><span class="p">,</span> <span class="s2">&quot;≈§&quot;</span><span class="p">,</span> <span class="s2">&quot;≈¢&quot;</span><span class="p">,</span> <span class="s2">&quot;√û&quot;</span><span class="p">,</span> <span class="s2">&quot;√ö&quot;</span><span class="p">,</span> <span class="s2">&quot;√ô&quot;</span><span class="p">,</span> <span class="s2">&quot;√õ&quot;</span><span class="p">,</span> <span class="s2">&quot;√ú&quot;</span><span class="p">,</span> <span class="s2">&quot;≈¨&quot;</span><span class="p">,</span> <span class="s2">&quot;≈™&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Æ&quot;</span><span class="p">,</span> <span class="s2">&quot;≈≤&quot;</span><span class="p">,</span> <span class="s2">&quot;≈∞&quot;</span><span class="p">,</span> <span class="s2">&quot;∆Ø&quot;</span><span class="p">,</span> <span class="s2">&quot;≈¥&quot;</span><span class="p">,</span> <span class="s2">&quot;√ù&quot;</span><span class="p">,</span> <span class="s2">&quot;≈∂&quot;</span><span class="p">,</span> <span class="s2">&quot;≈∏&quot;</span><span class="p">,</span> <span class="s2">&quot;≈π&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ª&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Ω&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ï&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ô&quot;</span><span class="p">,</span> <span class="s2">&quot;≈õ&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ù&quot;</span><span class="p">,</span> <span class="s2">&quot;≈°&quot;</span><span class="p">,</span> <span class="s2">&quot;≈ü&quot;</span><span class="p">,</span> <span class="s2">&quot;√ü&quot;</span><span class="p">,</span> <span class="s2">&quot;≈•&quot;</span><span class="p">,</span> <span class="s2">&quot;≈£&quot;</span><span class="p">,</span> <span class="s2">&quot;√æ&quot;</span><span class="p">,</span> <span class="s2">&quot;√∫&quot;</span><span class="p">,</span> <span class="s2">&quot;√π&quot;</span><span class="p">,</span> <span class="s2">&quot;√ª&quot;</span><span class="p">,</span> <span class="s2">&quot;√º&quot;</span><span class="p">,</span> <span class="s2">&quot;≈≠&quot;</span><span class="p">,</span> <span class="s2">&quot;≈´&quot;</span><span class="p">,</span> <span class="s2">&quot;≈Ø&quot;</span><span class="p">,</span> <span class="s2">&quot;≈≥&quot;</span><span class="p">,</span> <span class="s2">&quot;≈±&quot;</span><span class="p">,</span> <span class="s2">&quot;∆∞&quot;</span><span class="p">,</span> <span class="s2">&quot;≈µ&quot;</span><span class="p">,</span> <span class="s2">&quot;√Ω&quot;</span><span class="p">,</span> <span class="s2">&quot;≈∑&quot;</span><span class="p">,</span> <span class="s2">&quot;√ø&quot;</span><span class="p">,</span> <span class="s2">&quot;≈∫&quot;</span><span class="p">,</span> <span class="s2">&quot;≈º&quot;</span><span class="p">,</span> <span class="s2">&quot;≈æ&quot;</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$to</span>   <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;AE&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="s2">&quot;G&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;ae&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;IJ&quot;</span><span class="p">,</span> <span class="s2">&quot;J&quot;</span><span class="p">,</span> <span class="s2">&quot;K&quot;</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;CE&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;ij&quot;</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;R&quot;</span><span class="p">,</span> <span class="s2">&quot;R&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="s2">&quot;W&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>      <span class="nv">$from</span> <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span><span class="nv">$from</span><span class="p">,</span> <span class="nv">$cyrylicFrom</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$to</span>   <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span><span class="nv">$to</span><span class="p">,</span> <span class="nv">$cyrylicTo</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">return</span> <span class="nb">str_replace</span><span class="p">(</span><span class="nv">$from</span><span class="p">,</span> <span class="nv">$to</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * Convert any passed string to a url friendly string. Converts &#39;My first blog post&#39; to &#39;my-first-blog-post&#39;</span>
</span><span class='line'><span class="sd">     *</span>
</span><span class='line'><span class="sd">     * @param  string $text  Text to urlize</span>
</span><span class='line'><span class="sd">     * @return string $text  Urlized text</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">urlize</span><span class="p">(</span><span class="nv">$text</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Be aware of cirillic characters</span>
</span><span class='line'>        <span class="nv">$text</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">replaceCyrillic</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>        <span class="c1">// Remove all non url friendly characters with the unaccent function</span>
</span><span class='line'>        <span class="nv">$text</span> <span class="o">=</span> <span class="nx">self</span><span class="o">::</span><span class="na">unaccent</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nb">function_exists</span><span class="p">(</span><span class="s1">&#39;mb_strtolower&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="nv">$text</span> <span class="o">=</span> <span class="nb">mb_strtolower</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$text</span> <span class="o">=</span> <span class="nx">strtolower</span><span class="p">(</span><span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// Remove all none word characters</span>
</span><span class='line'>        <span class="nv">$text</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;/\W/&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// More stripping. Replace spaces with dashes</span>
</span><span class='line'>        <span class="nv">$text</span> <span class="o">=</span> <span class="nx">strtolower</span><span class="p">(</span><span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;/[^A-Z^a-z^0-9^\/]+/&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span>
</span><span class='line'>                           <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;/([a-z\d])([A-Z])/&#39;</span><span class="p">,</span> <span class="s1">&#39;\1_\2&#39;</span><span class="p">,</span>
</span><span class='line'>                           <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;/([A-Z]+)([A-Z][a-z])/&#39;</span><span class="p">,</span> <span class="s1">&#39;\1_\2&#39;</span><span class="p">,</span>
</span><span class='line'>                           <span class="nb">preg_replace</span><span class="p">(</span><span class="s1">&#39;/::/&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">)))));</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
